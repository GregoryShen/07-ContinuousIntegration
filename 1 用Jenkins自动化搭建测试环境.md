# [用 Jenkins 自动化搭建测试环境](https://www.imooc.com/learn/1008)

### 课程介绍

----

#### 1-1 课程介绍

在大多数互联网企业中, 

搭建测试环境时的困扰,

* 时间紧

* 任务重

* 没人管

  研发laod

自动化测试环境部署带来的幸福感

* 沉痼

课程安排

Jenkins 基础知识

应用服务器

部署项目介绍

Jenknis 自动化部署任务开发

代码修改 & 一键

前置环境准备

* 服务器 OS
* 数据库服务器 
* 已在 Github 上注册了账户
* Java 开发工具 Intellij Idea

### Jenkins 基础

----

#### 2-1 Jenkins 安装



#### 2-2 Jenkins 插件

##### Jenkins 插件安装

* 关于插件

  

* 本课程需要安装的插件

在Jenkins 进入「插件管理」, 

这个插件的作用是用于重新构建, 那么每次输入参数很麻烦, 当我们需要再次构建的时候, 

第二个需要安装的可选插件是 Safe Restart. 这个插件比较方便

这两个插件就是, 单击直接安装, 我们需要等待一段时间, 稍等

#### 2-3 Jenkins 基础设置

##### 配置全局安全性

这种安全配置相对来说不是很安全, 

首先进入「」

在「授权策略」中选择「安全矩阵」, 对 admin 用户赋予管理员权限,  然后「保存」.

##### 添加用户

同样进入「系统管理」, 然后点击「」, 新建用户, 填写相应信息后选择「新建用户」, 创建完这个用户后, 选择「Config Global Security」, 选择刚刚新建的「tester01」, 先全选这些权限, 然后把一开始的 Administrer .

然后用刚刚创建的 tester01 用户来重新登录 Jenkins, 登录后是看不到系统管理的, 说明 tester01 但是不能管理系统. 

##### 本章回顾

* 关于 Jenkins
* Jenkins 安装
* Jenkins 插件
* Jenkins 基础插件

### 应用部署服务器准备

#### 3-1 Linux 系统准备

是分别部署在不同服务器上的, 

我们的测试环境将部署在 Linux 操作系统上的, Linux 系统在逗相对较强大, 作为服务器准备, 首先, 你要有一台, 然后

##### 确定 IP 地址

使用 `ifconfig` 查询, 

##### 确定登录用户名、密码

##### 确定可以远程 ssh 连接

ssh 是用于远程, Jenkins , 同样, 我们需要在 Linux 的命令行中

```bash
# netstat -anp|grep :22
```

就说明, 如果没有启动, 需要用命令去启动它

```bash

```

##### 确定防火墙处于关闭状态

```bash
[root@localhost ~]# service iptables stop

[root@localhost ~]# service iptables status
```

就说明服务器处于关闭状态

#### 3-2 安装Java环境

在 CentOS 系统中, 

在命令行系统中直接

#### 3-3 安装并配置Git

#### 3-4 安装并配置Maven





#### 3-5 下载Tomcat

选择复制链接, 在需要下载的路径里面, 刚刚复制的下载链接

#### 3-6 解压安装Tomcat



#### 3-7 配置Tomcat



#### 3-8 启动验证Tomcat



#### 3-9 新建节点



#### 3-10 配置IP



#### 3-11 尝试连接



#### 3-12 运行验证任务



#### 3-13 本章回顾



### 部署应用介绍与前期准备

----

#### 4-1 Github的介绍



#### 4-2 部署应用程序



#### 4-3 Github上Fork部署应用程序



#### 4-4 Github上打开fork的部署应用



#### 4-5 复制克隆链接

#### 4-6 将源代码clone到本地

#### 4-7 用Intellij Idea打开克隆好的项目

#### 4-8 简要说明代码源程序

#### 4-9 Maven 构建项目

#### 4-10 创建数据库表

#### 4-11 导入源代码中的sql文件

#### 4-12 执行sql并检查结果

#### 4-13 配置数据库参数

#### 4-14 验证参数是否配置正确

#### 4-15 在git上commit更新代码

#### 4-16 Push更新代码到Github

#### 4-17 部署应用程序的总结—1

#### 4-18 本章回顾

### Jenkins 自动化部署任务开发

----

5-1 部署过程介绍

#### 5-2 创建Jenkins 自动化部署任务

创建Jenkins部署任务

1. 创建Jenkins任务
2. 填写server信息
3. 配置git参数
4. 填写构建语句,实际部署测试环境

5-3 运行部署任务

5-4 本章回顾

### 实战

----

6-1 实战

### 总结

----

7-1 课程总结